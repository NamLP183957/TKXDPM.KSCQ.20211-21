{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Documents\\\\Nam04_Ky1\\\\XayDungPhatTrienPhanMem\\\\TKXDPM.KSCQ.20211-21\\\\Software_Programing\\\\font_end\\\\src\\\\components\\\\vehicle\\\\Vehicel.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Card } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport VehicleService from \"../../services/VehicleService\";\nimport \"./css/Vehicle.css\";\nimport { BIKE_TYPE } from '../../variables/ConstantCommon';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Vehicle(props) {\n  _s();\n\n  const history = useHistory();\n  React.useEffect(() => {\n    // Specify how to clean up after this effect:\n    return function cleanup() {\n      // to stop the warning of calling setTl of unmounted component\n      var id = window.setTimeout(null, 0);\n\n      while (id--) {\n        window.clearTimeout(id);\n      }\n    };\n  });\n  const [vehicles, setVehicles] = useState([]);\n  const {\n    stationId\n  } = props.location;\n  console.log(\"stationId: \", stationId);\n  useEffect(() => {\n    async function fetchvehicleList() {\n      try {\n        VehicleService.getListVehicleInStation(stationId).then(res => {\n          const data = res.data;\n          console.log(\"data: \", data);\n          setVehicles(data.map(vehicle => {\n            console.log(vehicle);\n            return {\n              select: false,\n              parkingSlotId: vehicle.parkingSlotId,\n              type: vehicle.type,\n              licensePlate: vehicle.licensePlate,\n              battery: vehicle.battery,\n              maxTime: vehicle.maxTime,\n              status: vehicle.status\n            };\n          })); // setIsLoaded(true);\n        }).catch(function (error) {\n          console.log(\"ERROR: \" + error.response.data.status);\n        });\n      } catch (error) {\n        console.log(\"Failed to fetch vehicle list: \", error.message); // setError(error);\n      }\n    }\n\n    fetchvehicleList();\n  }, []);\n\n  const handleOnClick = vehicle => {\n    history.push({\n      pathname: \"/rent-bike\"\n    });\n  };\n\n  if (vehicles === null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Kh\\xF4ng c\\xF3 xe n\\xE0o trong b\\xE3i\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"18rem\"\n      },\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: \"Danh s\\xE1ch xe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"V\\u1ECB tr\\xED: \", vehicle.parkingSlotId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Bi\\u1EC3n s\\u1ED1: \", vehicle.licensePlate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Lo\\u1EA1i xe: \", BIKE_TYPE[vehicle.type]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Th\\u1EDDi l\\u01B0\\u1EE3ng pin (d\\xE0nh cho xe \\u0111i\\u1EC7n): \", vehicle.battery, \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Th\\u1EDDi gian s\\u1EED d\\u1EE5ng t\\u1ED1i \\u0111a (d\\xE0nh cho xe \\u0111i\\u1EC7n): \", vehicle.maxTime, \" ph\\xFAt\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Vehicle, \"UhCToZDje5y2AX/++cW+1gjRxxg=\", false, function () {\n  return [useHistory];\n});\n\n_c = Vehicle;\nexport default Vehicle;\n\nvar _c;\n\n$RefreshReg$(_c, \"Vehicle\");","map":{"version":3,"sources":["C:/Users/ADMIN/Documents/Nam04_Ky1/XayDungPhatTrienPhanMem/TKXDPM.KSCQ.20211-21/Software_Programing/font_end/src/components/vehicle/Vehicel.js"],"names":["React","useEffect","useState","Button","Card","useHistory","VehicleService","BIKE_TYPE","Vehicle","props","history","cleanup","id","window","setTimeout","clearTimeout","vehicles","setVehicles","stationId","location","console","log","fetchvehicleList","getListVehicleInStation","then","res","data","map","vehicle","select","parkingSlotId","type","licensePlate","battery","maxTime","status","catch","error","response","message","handleOnClick","push","pathname","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport VehicleService from \"../../services/VehicleService\";\r\nimport \"./css/Vehicle.css\";\r\nimport {BIKE_TYPE} from '../../variables/ConstantCommon'\r\nfunction Vehicle(props) {\r\n  const history = useHistory();\r\n  React.useEffect(() => {\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      // to stop the warning of calling setTl of unmounted component\r\n      var id = window.setTimeout(null, 0);\r\n      while (id--) {\r\n        window.clearTimeout(id);\r\n      }\r\n    };\r\n  });\r\n\r\n  const [vehicles, setVehicles] = useState([]);\r\n\r\n  const {stationId} = props.location;\r\n  console.log(\"stationId: \", stationId);\r\n  useEffect(() => {\r\n    async function fetchvehicleList() {\r\n      try {\r\n        VehicleService.getListVehicleInStation(stationId)\r\n          .then((res) => {\r\n            const data = res.data;\r\n            console.log(\"data: \", data);\r\n            setVehicles(\r\n              data.map((vehicle) => {\r\n                console.log(vehicle);\r\n                return {\r\n                  select: false,\r\n                  parkingSlotId: vehicle.parkingSlotId,\r\n                  type: vehicle.type,\r\n                  licensePlate: vehicle.licensePlate,\r\n                  battery: vehicle.battery,\r\n                  maxTime: vehicle.maxTime,\r\n                  status: vehicle.status,\r\n                };\r\n              })\r\n            );\r\n            // setIsLoaded(true);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(\"ERROR: \" + error.response.data.status);\r\n          });\r\n      } catch (error) {\r\n        console.log(\"Failed to fetch vehicle list: \", error.message);\r\n        // setError(error);\r\n      }\r\n    }\r\n    fetchvehicleList();\r\n  }, []);\r\n\r\n  const handleOnClick = (vehicle) => {\r\n    history.push({\r\n      pathname: \"/rent-bike\",\r\n    });\r\n  };\r\n  if (vehicles === null) {\r\n    return <div>Không có xe nào trong bãi</div>\r\n  }\r\n  return (\r\n    <div>\r\n      {vehicles.map((vehicle) => (\r\n        <Card style={{ width: \"18rem\" }} className=\"card\">\r\n          <Card.Body>\r\n            <Card.Title>Danh sách xe</Card.Title>\r\n            <div>Vị trí: {vehicle.parkingSlotId}</div>\r\n            <div>Biển số: {vehicle.licensePlate}</div>\r\n            <div>Loại xe: {BIKE_TYPE[vehicle.type]}</div>\r\n            <div>Thời lượng pin (dành cho xe điện): {vehicle.battery} %</div>\r\n            <div>\r\n              Thời gian sử dụng tối đa (dành cho xe điện): {vehicle.maxTime} phút\r\n            </div>\r\n            <br />\r\n            {/* <Button variant=\"danger\" onClick={() => handleOnClick()}>\r\n              Thuê xe\r\n            </Button> */}\r\n          </Card.Body>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Vehicle;\r\n"]},"metadata":{},"sourceType":"module"}